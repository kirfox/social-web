{"version":3,"sources":["components/hoc/withAuthRedirect.js","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["mapStatetoPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","DialogItem","className","styles","dialog","active","id","name","Message","message","maxLength50","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","validate","required","placeHolder","Dialogs","dialogsPage","dialogsElements","dialogs","map","d","messagesElements","messages","m","newMessageText","dialogsItems","values","sendMessage","compose","dispatch","addMessageActionCreator"],"mappings":"2NAIIA,EAA6B,SAACC,GAAD,MAAY,CAC3CC,OAAQD,EAAME,KAAKD,SAGRE,EAAmB,SAACC,GAAe,IACxCC,EADuC,4JAE3C,WACE,OAAKC,KAAKC,MAAMN,OAET,cAACG,EAAD,eAAeE,KAAKC,QAFI,cAAC,IAAD,CAAUC,GAAI,eAHJ,GACbC,IAAML,WAStC,OADoCM,YAAQX,EAARW,CAAoCL,K,oBChB1EM,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,SAAW,0BAA0B,QAAU,2B,sHCUnKC,EARI,SAACN,GAClB,OACE,qBAAKO,UAAWC,IAAOC,OAAS,IAAMD,IAAOE,OAA7C,SACE,eAAC,IAAD,CAAST,GAAI,YAAcD,EAAMW,GAAjC,cAAuCX,EAAMY,KAA7C,UCISC,EARC,SAACb,GAEf,OACE,sBAAKO,UAAWC,IAAOC,OAAvB,UAAgCT,EAAMc,QAAtC,Q,kCCGEC,EAAcC,YAAiB,IA4C/BC,EAAsBC,YAAU,CAACC,KAAM,wBAAjBD,EAhBL,SAAClB,GACtB,OACE,sBAAMoB,SAAUpB,EAAMqB,aAAtB,SACE,gCACE,8BACE,cAACC,EAAA,EAAD,CAAOC,UAAWC,IAAUC,SAAU,CAACC,IAASX,GAAcH,KAAK,iBAAiBe,YAAY,yBAElG,8BACE,oDAUKC,EA5CC,SAAC5B,GAEf,IAAIP,EAAQO,EAAM6B,YACdC,EAAkBrC,EAAMsC,QAAQC,KAAK,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAYtB,GAAIsB,EAAEtB,GAAeC,KAAMqB,EAAErB,MAAdqB,EAAEtB,OACvEuB,EAAmBzC,EAAM0C,SAASH,KAAK,SAAAI,GAAC,OAAI,cAAC,EAAD,CAAStB,QAASsB,EAAEtB,SAAcsB,EAAEzB,OAC/DlB,EAAM4C,eAO3B,OAEE,sBAAK9B,UAAWC,IAAOuB,QAAvB,UACE,qBAAKxB,UAAWC,IAAO8B,aAAvB,SACGR,IAEH,qBAAKvB,UAAWC,IAAO2B,SAAvB,SACGD,IAEH,cAACjB,EAAD,CAAqBG,SAdL,SAACmB,GACnBvC,EAAMwC,YAAYD,EAAOF,uBCKdI,sBAAQtC,aAhBC,SAACV,GAEvB,MAAO,CACLoC,YAAapC,EAAMoC,gBAGI,SAACa,GAE1B,MAAO,CACLF,YAAa,SAACH,GACZK,EAASC,YAAwBN,SAM8BzC,IAAtD6C,CAAwEb","file":"static/js/4.4a1e7ad3.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\n\r\nlet mapStatetoPropsForRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render () {\r\n      if (!this.props.isAuth) return <Redirect to={\"/login\"} />\r\n\r\n      return <Component {...this.props}/>\r\n    }\r\n  }\r\n\r\n  let  ConnectAuthRedirectComponent = connect(mapStatetoPropsForRedirect)(RedirectComponent)\r\n  return ConnectAuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2zrt0\",\"dialogsItems\":\"Dialogs_dialogsItems__30kV9\",\"active\":\"Dialogs_active__22fCW\",\"messages\":\"Dialogs_messages__2bVAK\",\"message\":\"Dialogs_message__1Tr2s\"};","import { NavLink } from 'react-router-dom';\r\nimport styles from './../Dialogs.module.css';\r\n\r\nconst DialogItem = (props) => {\r\n  return(\r\n    <div className={styles.dialog + ' ' + styles.active}>\r\n      <NavLink to={\"/dialogs/\" + props.id}> {props.name} </NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DialogItem;","import styles from './../Dialogs.module.css';\r\n\r\nconst Message = (props) => {\r\n \r\n  return(\r\n    <div className={styles.dialog}>{props.message} </div>\r\n   \r\n  )\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport styles from './Dialogs.module.css';\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport Message from './Message/Message';\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { Textarea } from '../common/FormsControls/FormsControls';\r\nimport { maxLengthCreator, required } from '../utils/validators/validators';\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\ndebugger\r\nconst Dialogs = (props) => {\r\n\r\n  let state = props.dialogsPage; \r\n  let dialogsElements = state.dialogs.map( d => <DialogItem id={d.id} key={d.id} name={d.name} /> )\r\n  let messagesElements = state.messages.map( m => <Message message={m.message} key={m.id}/>)\r\n  let newMessageText = state.newMessageText;\r\n\r\n  let addNewMessage = (values) => {\r\n    props.sendMessage(values.newMessageText)\r\n  }\r\n\r\n \r\n  return(\r\n    \r\n    <div className={styles.dialogs}>\r\n      <div className={styles.dialogsItems}>\r\n        {dialogsElements} \r\n      </div>\r\n      <div className={styles.messages}>\r\n        {messagesElements}\r\n      </div>\r\n      <AddMessageFormRedux onSubmit={addNewMessage}/>  \r\n    </div>\r\n  )\r\n}\r\n\r\nconst AddMessageForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <div>\r\n          <Field component={Textarea} validate={[required,maxLength50]} name=\"newMessageText\" placeHolder=\"Enter your message\"/>\r\n        </div>\r\n        <div>\r\n          <button>Send</button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\n\r\nconst AddMessageFormRedux = reduxForm({form: \"dialogAddMessageForm\"})(AddMessageForm)\r\n\r\nexport default Dialogs;","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { addMessageActionCreator } from '../../redux/dialogs-reducer';\r\nimport { withAuthRedirect } from '../hoc/withAuthRedirect';\r\nimport Dialogs from './Dialogs';\r\n\r\ndebugger\r\nconst mapStateToProps = (state) => {\r\n  debugger\r\n  return {\r\n    dialogsPage: state.dialogsPage,\r\n  }\r\n} \r\nconst mapDispatchToProps = (dispatch) => {\r\n  debugger\r\n  return {\r\n    sendMessage: (newMessageText) => {\r\n      dispatch(addMessageActionCreator(newMessageText))\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withAuthRedirect)(Dialogs);"],"sourceRoot":""}